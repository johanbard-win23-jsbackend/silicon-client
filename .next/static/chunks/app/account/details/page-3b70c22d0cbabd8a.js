(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[216],{8488:function(e,a,s){Promise.resolve().then(s.bind(s,8001))},8001:function(e,a,s){"use strict";s.r(a),s.d(a,{default:function(){return d}});var t=s(7437),n=s(3170),l=s(2227),i=s.n(l),c=s(2265),r=s(6463),o=s(1839);function d(){var e;(0,r.useRouter)();let[a,s]=(0,c.useState)(""),[l,d]=(0,c.useState)(""),[u,h]=(0,c.useState)(!0),[m,x]=(0,c.useState)({userId:l,firstName:"",lastName:"",email:"",phone:"",bio:""}),[p,f]=(0,c.useState)({email:"",address1:"",address2:"",postalCode:"",city:""});(0,c.useEffect)(()=>{a();async function a(){await (0,o.bW)().then(async a=>{if(null!=a){console.log(a),e=a;try{fetch("https://jb-silicon-tokenprovider.azurewebsites.net/api/GetUserFromToken?code=8JsrEIvrhRXOPR5tGL7ZguZAl4I2RSuIOQvHNPwhe43WAzFuxlqSoA%3D%3D",{method:"post",headers:{Authorization:"bearer ".concat(e)}}).then(e=>e.json()).then(e=>{let a='{"userId":"'+e.userId+'"}';fetch("https://jb-silicon-profileprovider.azurewebsites.net/api/GetProfile?code=F1agisL-rVQd_ldnt2LDHm5xWcnhGKf2mzc9DOO-FcdzAzFucUYB-g%3D%3D",{method:"post",headers:{"content-type":"application/json"},body:a}).then(e=>e.json()).then(e=>{x(e),f(e),h(!1)}).catch(e=>console.error("Error:",e))})}catch(e){s("Client Error"),console.error("Client Error")}}})}},[]);let b=e=>{x(a=>({...a,[e.target.name]:e.target.value}))},j=e=>{f(a=>({...a,[e.target.name]:e.target.value}))},N=async e=>{try{e.preventDefault(),x({...m,userId:l});let a=await fetch("https://jb-silicon-profileprovider.azurewebsites.net/api/UpdateDetails?code=CnI-lfmBylTFqb9gixJZ4-3CBE3e5Y9v5V-gRmFQMxKTAzFunIpJMg%3D%3D",{method:"post",headers:{"content-type":"application/json"},body:JSON.stringify(m)});200===a.status||0===a.status?console.log("Success"):(s("Server Error"),console.error("Server Error"))}catch(e){s("Client Error"),console.error("Client Error")}},v=async e=>{try{e.preventDefault(),f({...p,email:m.email});let a=await fetch("https://jb-silicon-profileprovider.azurewebsites.net/api/UpdateAddress?code=OsicmWyO4-Q1f3eHfHybaSACjsN0dxBuxcqWPcjM3NraAzFu_VWojw%3D%3D",{method:"post",headers:{"content-type":"application/json"},body:JSON.stringify(p)});200===a.status?console.log("Success"):(s("Server Error"),console.error("Server Error"))}catch(e){s("Client Error"),console.error("Client Error")}};return u?(0,t.jsx)("main",{className:"w-full d-flex column center ".concat(i().main),children:(0,t.jsx)("section",{className:"w-max",children:(0,t.jsx)("div",{className:"container d-flex center",children:(0,t.jsx)("p",{children:"Loading..."})})})}):m?(0,t.jsx)("main",{className:"w-full d-flex column center ".concat(i().main),children:(0,t.jsx)("section",{className:"account-details w-max",children:(0,t.jsxs)("div",{className:"container",children:[(0,t.jsx)(n.default,{}),(0,t.jsxs)("div",{className:"details",children:[(0,t.jsx)("h1",{children:"Account details"}),(0,t.jsx)("form",{onSubmit:N,id:"basic-info",noValidate:!0,children:(0,t.jsxs)("fieldset",{children:[(0,t.jsx)("legend",{children:(0,t.jsx)("h2",{className:"h5",children:"Basic info"})}),(0,t.jsxs)("div",{className:"box",children:[(0,t.jsxs)("div",{id:"details-firstname",className:"input-box",children:[(0,t.jsx)("label",{className:"label",children:"First name"}),(0,t.jsx)("span",{}),(0,t.jsx)("input",{type:"text",name:"firstName",value:m.firstName,onChange:b,placeholder:"Enter your first name"})]}),(0,t.jsxs)("div",{id:"details-lastname",className:"input-box",children:[(0,t.jsx)("label",{className:"label",children:"Last name"}),(0,t.jsx)("span",{}),(0,t.jsx)("input",{type:"text",name:"lastName",value:m.lastName,onChange:b,placeholder:"Enter your last name"})]}),(0,t.jsxs)("div",{id:"details-email",className:"input-box",children:[(0,t.jsx)("label",{className:"label",children:"Email address"}),(0,t.jsx)("span",{}),(0,t.jsx)("input",{type:"text",name:"email",value:m.email,placeholder:"Enter your email address",disabled:!0})]}),(0,t.jsxs)("div",{id:"details-phone",className:"input-box",children:[(0,t.jsxs)("label",{className:"label",children:["Phone ",(0,t.jsx)("span",{className:"optional",children:"(optional)"})]}),(0,t.jsx)("input",{type:"text",name:"phone",value:m.phone,onChange:b,placeholder:"Enter your phone"})]})]}),(0,t.jsxs)("div",{id:"details-bio",className:"input-box",children:[(0,t.jsxs)("label",{className:"label",children:["Bio ",(0,t.jsx)("span",{className:"optional",children:"(optional)"})]}),(0,t.jsx)("textarea",{rows:4,name:"bio",value:m.bio,onChange:e=>{x(a=>({...a,[e.target.name]:e.target.value}))},placeholder:"Add short bio"})]}),(0,t.jsxs)("div",{className:"buttons-box",children:[(0,t.jsx)("button",{type:"reset",className:"btn btn-gray",children:"Cancel"}),(0,t.jsx)("button",{type:"submit",className:"btn-theme",children:"Save changes"})]})]})}),(0,t.jsx)("form",{onSubmit:v,id:"address",noValidate:!0,children:(0,t.jsxs)("fieldset",{children:[(0,t.jsx)("legend",{children:(0,t.jsx)("h2",{className:"h5",children:"Address"})}),(0,t.jsxs)("div",{id:"details-address1",className:"input-box",children:[(0,t.jsx)("label",{className:"label",children:"Address line 1"}),(0,t.jsx)("input",{type:"text",name:"address1",value:p.address1,onChange:j})]}),(0,t.jsxs)("div",{id:"details-address2",className:"input-box",children:[(0,t.jsx)("label",{className:"label",children:"Address line 2"}),(0,t.jsx)("input",{type:"text",name:"address2",value:p.address2,onChange:j})]}),(0,t.jsxs)("div",{className:"box",children:[(0,t.jsxs)("div",{id:"details-postalcode",className:"input-box",children:[(0,t.jsx)("label",{className:"label",children:"Postal code"}),(0,t.jsx)("input",{type:"text",name:"postalCode",value:p.postalCode,onChange:j})]}),(0,t.jsxs)("div",{id:"city",className:"input-box",children:[(0,t.jsx)("label",{className:"label",children:"City"}),(0,t.jsx)("input",{type:"text",name:"city",value:p.city,onChange:j})]})]}),(0,t.jsxs)("div",{className:"buttons-box",children:[(0,t.jsx)("button",{type:"reset",className:"btn btn-gray",children:"Cancel"}),(0,t.jsx)("button",{type:"submit",className:"btn-theme",children:"Save changes"})]})]})})]})]})})}):(0,t.jsx)("main",{className:"w-full d-flex column center ".concat(i().main),children:(0,t.jsx)("section",{className:"w-max",children:(0,t.jsx)("div",{className:"container d-flex center",children:(0,t.jsx)("p",{children:"No profile data"})})})})}},1839:function(e,a,s){"use strict";s.d(a,{bW:function(){return l},et:function(){return i},n5:function(){return n}}),s(4590);var t=s(8064),n=(0,t.$)("21e81ab65a42d3716f4dc4e7db29c471b17be668"),l=(0,t.$)("d99845cae1f6221b5e7c913ff6e550dd539f4a58"),i=(0,t.$)("4e362e43dff8e524368d1a1613c2b9250fc2996c")},3170:function(e,a,s){"use strict";s.d(a,{default:function(){return o}});var t=s(7437),n=s(7138),l=s(6463),i=s(1839),c=s(2265),r=s(6648);function o(){let e=(0,l.usePathname)(),[a,s]=(0,c.useState)({userId:"",profileImg:"",firstName:"",lastName:"",email:"",phone:"",bio:""});return(0,c.useEffect)(()=>{(async function(){await (0,i.bW)().then(async e=>{null!=e&&console.log(e)}),await (0,i.n5)().then(async e=>{console.log(e)}),await (0,i.et)().then(async e=>{s(e)})})()},[]),(0,t.jsxs)("aside",{className:"accountaside",children:[(0,t.jsxs)("div",{className:"avatar-box",children:[(0,t.jsx)(r.default,{className:"avatar-img",src:"/img/avatars/"+a.profileImg,fill:!0,alt:""}),(0,t.jsx)("div",{className:"change-avatar",children:(0,t.jsx)("i",{className:"fa-solid fa-arrows-rotate"})})]}),(0,t.jsxs)("div",{className:"short-info-box",children:[(0,t.jsx)("p",{className:"h5",children:a.firstName+" "+a.lastName}),(0,t.jsx)("p",{className:"text-m",children:a.email})]}),(0,t.jsxs)("div",{className:"buttons-box",children:[(0,t.jsxs)(n.default,{href:"/account/details",className:"btn ".concat("/account/details"===e?"btn-theme":"btn-white"),children:[(0,t.jsx)("i",{className:"fa-regular fa-cog"}),(0,t.jsx)("p",{children:"Account Details"})]}),(0,t.jsxs)(n.default,{href:"/account/security",className:"btn ".concat("/account/security"===e?"btn-theme":"btn-white"),children:[(0,t.jsx)("i",{className:"fa-regular fa-lock"}),(0,t.jsx)("p",{children:"Security"})]}),(0,t.jsxs)(n.default,{href:"/account/notifications",className:"btn ".concat("/account/notifications"===e?"btn-theme":"btn-white"),children:[(0,t.jsx)("i",{className:"fa-regular fa-bell"}),(0,t.jsx)("p",{children:"Notifications"})]}),(0,t.jsxs)(n.default,{href:"/auth/signout",className:"btn btn-white",children:[(0,t.jsx)("i",{className:"fa-regular fa-arrow-left-from-bracket"}),(0,t.jsx)("p",{children:"Sign Out"})]})]})]})}},7138:function(e,a,s){"use strict";s.d(a,{default:function(){return n.a}});var t=s(231),n=s.n(t)},2227:function(e){e.exports={main:"page_main__fU4dP",section:"page_section__sTZIg",container:"page_container__AjlgG",span:"page_span__I5x_V"}}},function(e){e.O(0,[601,231,598,971,23,744],function(){return e(e.s=8488)}),_N_E=e.O()}]);