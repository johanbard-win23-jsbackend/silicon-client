(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4],{9578:function(e,s,t){Promise.resolve().then(t.bind(t,8699))},8699:function(e,s,t){"use strict";t.r(s),t.d(s,{default:function(){return l}});var a=t(7437),n=t(3170),r=t(4156),c=t.n(r),o=t(2265),i=t(1839);function l(){let[e,s]=(0,o.useState)(""),[t,r]=(0,o.useState)({id:"",oldPassword:"",newPassword:"",confirmPassword:""}),[l,d]=(0,o.useState)({confirmDelete:!1}),u=(0,o.useRef)(!1);(0,o.useEffect)(()=>{u.current&&(console.log("SUCCESS!!!"),u.current=!1)},[]);let h=e=>{r({...t,[e.target.name]:e.target.value})},m=async e=>{try{e.preventDefault();let a=await (0,i.n5)(),n='{"id":"'+a+'", "oldPassword":"'+t.oldPassword+'", "newPassword":"'+t.newPassword+'", "confirmPassword":"'+t.confirmPassword+'"}',r=await fetch("https://jb-silicon-accountprovider.azurewebsites.net/api/UpdatePassword?code=HBqo25mv7BmKoELeTHRBOfoW-dbl7zmErln6L_QQFY_AAzFuyRfrsg%3D%3D",{method:"post",headers:{"content-type":"application/json"},body:n});200===r.status?(console.log("Success :: "+r.status+" :: "+r.statusText),window.location.reload()):(s("Server Error"),console.error("Server Error :: "+r.status+" :: "+r.statusText))}catch(e){s("Client Error"),console.error("Client Error")}},f=async e=>{try{if(e.preventDefault(),l.confirmDelete){let e=await (0,i.n5)(),t=await fetch("https://jb-silicon-accountprovider.azurewebsites.net/api/Delete?code=fNN3los8noPe5d6yzSu5rw_3UI4esF9cqiAeD-zpi62hAzFuDhVNdg%3D%3D",{method:"post",headers:{"content-type":"application/json"},body:'{"id":"'+e+'"}'});200===t.status?console.log("Success :: "+t.status+" :: "+t.statusText):(s("Server Error"),console.error("Server Error :: "+t.status+" :: "+t.statusText))}else console.log("Unconfirmed")}catch(e){s("Client Error"),console.error("Client Error")}};return(0,a.jsx)("main",{className:"w-full d-flex column center ".concat(c().main),children:(0,a.jsx)("section",{className:"account-security w-max",children:(0,a.jsxs)("div",{className:"container",children:[(0,a.jsx)(n.Z,{}),(0,a.jsxs)("div",{className:"details",children:[(0,a.jsx)("h1",{children:"Security"}),(0,a.jsx)("form",{onSubmit:m,id:"password-form",noValidate:!0,children:(0,a.jsxs)("fieldset",{children:[(0,a.jsx)("legend",{children:(0,a.jsx)("h2",{className:"h5",children:"Password"})}),(0,a.jsx)("div",{className:"box",children:(0,a.jsxs)("div",{id:"security-oldpassword",className:"input-box",children:[(0,a.jsx)("label",{className:"label",children:"Current password"}),(0,a.jsx)("span",{}),(0,a.jsx)("input",{type:"text",name:"oldPassword",placeholder:"Enter your current password",onChange:h})]})}),(0,a.jsxs)("div",{className:"box",children:[(0,a.jsxs)("div",{id:"security-newpassword",className:"input-box",children:[(0,a.jsx)("label",{className:"label",children:"New password"}),(0,a.jsx)("span",{}),(0,a.jsx)("input",{type:"text",name:"newPassword",placeholder:"Enter your new password",onChange:h})]}),(0,a.jsxs)("div",{id:"security-confirmpassword",className:"input-box",children:[(0,a.jsx)("label",{className:"label",children:"Confirm new password"}),(0,a.jsx)("span",{}),(0,a.jsx)("input",{type:"text",name:"confirmPassword",placeholder:"Confirm your new password",onChange:h})]})]}),(0,a.jsxs)("div",{className:"buttons-box",children:[(0,a.jsx)("button",{type:"reset",className:"btn btn-gray",children:"Cancel"}),(0,a.jsx)("button",{type:"submit",className:"btn-theme",children:"Save changes"})]})]})}),(0,a.jsx)("form",{onSubmit:f,id:"delete-account-form",noValidate:!0,children:(0,a.jsxs)("fieldset",{children:[(0,a.jsx)("legend",{children:(0,a.jsx)("h2",{className:"h5",children:"Delete account"})}),(0,a.jsxs)("div",{id:"delete-account-button",className:"input-box",children:[(0,a.jsx)("input",{type:"checkbox",name:"confirmDelete",onChange:e=>{"checkbox"==e.target.type&&(e.target.checked?d({...l,[e.target.name]:!0}):d({...l,[e.target.name]:!1}))}}),(0,a.jsx)("label",{children:"Yes, I want to delete my account."})]}),(0,a.jsx)("div",{className:"buttons-box",children:(0,a.jsx)("button",{type:"submit",className:"btn-red",children:"Delete"})})]})})]})]})})})}},1839:function(e,s,t){"use strict";t.d(s,{bW:function(){return r},et:function(){return c},n5:function(){return n}}),t(4590);var a=t(8064),n=(0,a.$)("21e81ab65a42d3716f4dc4e7db29c471b17be668"),r=(0,a.$)("d99845cae1f6221b5e7c913ff6e550dd539f4a58"),c=(0,a.$)("4e362e43dff8e524368d1a1613c2b9250fc2996c")},3170:function(e,s,t){"use strict";t.d(s,{Z:function(){return i}});var a=t(7437),n=t(7138),r=t(6463),c=t(1839),o=t(2265);function i(){let e=(0,r.usePathname)(),[s,t]=(0,o.useState)({userId:"",profileImg:"",firstName:"",lastName:"",email:"",phone:"",bio:""});return(0,o.useEffect)(()=>{(async function(){await (0,c.bW)().then(async e=>{}),await (0,c.n5)().then(async e=>{}),await (0,c.et)().then(async e=>{t(e)})})()},[]),(0,a.jsxs)("aside",{className:"accountaside",children:[(0,a.jsxs)("div",{className:"avatar-box",children:[(0,a.jsx)("img",{className:"avatar-img",src:"/img/avatars/"+s.profileImg,alt:""}),(0,a.jsx)("div",{className:"change-avatar",children:(0,a.jsx)("i",{className:"fa-solid fa-arrows-rotate"})})]}),(0,a.jsxs)("div",{className:"short-info-box",children:[(0,a.jsx)("p",{className:"h5",children:s.firstName+" "+s.lastName}),(0,a.jsx)("p",{className:"text-m",children:s.email})]}),(0,a.jsxs)("div",{className:"buttons-box",children:[(0,a.jsxs)(n.default,{href:"/account/details",className:"btn ".concat("/account/details"===e?"btn-theme":"btn-white"),children:[(0,a.jsx)("i",{className:"fa-regular fa-cog"}),(0,a.jsx)("p",{children:"Account Details"})]}),(0,a.jsxs)(n.default,{href:"/account/security",className:"btn ".concat("/account/security"===e?"btn-theme":"btn-white"),children:[(0,a.jsx)("i",{className:"fa-regular fa-lock"}),(0,a.jsx)("p",{children:"Security"})]}),(0,a.jsxs)(n.default,{href:"/account/notifications",className:"btn ".concat("/account/notifications"===e?"btn-theme":"btn-white"),children:[(0,a.jsx)("i",{className:"fa-regular fa-bell"}),(0,a.jsx)("p",{children:"Notifications"})]}),(0,a.jsxs)(n.default,{href:"/auth/signout",className:"btn btn-white",children:[(0,a.jsx)("i",{className:"fa-regular fa-arrow-left-from-bracket"}),(0,a.jsx)("p",{children:"Sign Out"})]})]})]})}},7138:function(e,s,t){"use strict";t.d(s,{default:function(){return n.a}});var a=t(231),n=t.n(a)},6463:function(e,s,t){"use strict";var a=t(1169);t.o(a,"usePathname")&&t.d(s,{usePathname:function(){return a.usePathname}}),t.o(a,"useRouter")&&t.d(s,{useRouter:function(){return a.useRouter}}),t.o(a,"useSearchParams")&&t.d(s,{useSearchParams:function(){return a.useSearchParams}})},8064:function(e,s,t){"use strict";Object.defineProperty(s,"$",{enumerable:!0,get:function(){return n}});let a=t(4590);function n(e){let{createServerReference:s}=t(6671);return s(e,a.callServer)}},4156:function(e){e.exports={main:"page_main__xrsay",section:"page_section__O_xOX",container:"page_container__iM14k",span:"page_span__cWIF0"}}},function(e){e.O(0,[788,231,971,23,744],function(){return e(e.s=9578)}),_N_E=e.O()}]);